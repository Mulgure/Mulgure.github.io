<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
    
  
  <link href="//lib.baomitu.com/fancybox/2.1.5/jquery.fancybox.min.js" rel="stylesheet" type="text/css" />







  

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="Mulgure的小屋">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Mulgure的小屋">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mulgure的小屋">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/"/>


  <title> Mulgure的小屋 </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Mulgure的小屋</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">执念不灭 我就永不消亡</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/26/js call的深入问题探究/" itemprop="url">
                  call()的深入问题探究
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-26T00:43:51+08:00" content="2017-05-26">
              2017-05-26
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/05/26/js call的深入问题探究/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/26/js call的深入问题探究/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天群里面有人提出了这么一个问题 </p>
<pre><code>function fn1(){
    console.log(1);
}
function fn2(){
    console.log(2);
}
fn1.call(fn2); //1
fn1.call.call(fn2); //2
fn1.call.call.call.call.call(fn2); //2
Function.prototype.call(fn2); //undefined
Function.prototype.call.call(fn2); //2
</code></pre><p>要解释这个问题 不如先看看 Function.prototype.call 的输出</p>
<pre><code>Function.prototype.call //function call() { [native code] }
</code></pre><p>然后是call()的内部实现 到网上找了一下 是这么说的</p>
<pre><code>call的工作流程 
F.call(thisarg,[arg1……]) 
1、先判断F是否为一个函数，如果不是一个函数，那么将抛出TypeError异常。 
2、创建一个内部类型空列表list 
3、然后如果参数除去thisarg外还有其他参数的话，就将这些值添加到list中 
4、Iangthisarg和list作为F内部属性[[Call]]的参数传入调用进行函数的执行操作
</code></pre><p>  [[Call]] 参数我们猜应该是（要调用的函数，要调用的函数的this，要调用的函数的参数）</p>
<p>这就很好解释上述结果了 以 Function.prototype.call.call(fn2) 为例</p>
<p>后一个call(fn2)将一个参数fn2作为 要调用的函数 传入了前一个call的内部实现参数中</p>
<p>然后在外部看来 就变成了fn2.call() </p>
<p>以上</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/17/nodejs学习笔记/" itemprop="url">
                  nodejs学习笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-17T00:28:45+08:00" content="2017-05-17">
              2017-05-17
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/05/17/nodejs学习笔记/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/17/nodejs学习笔记/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>学习资料根据<a href="http://nodejs.cn/api/assert.html" target="_blank" rel="external">Node.js中文网</a> </p>
<p>主要是归纳总结相同点 不会照抄太多API</p>
<h1 id="Assert-断言"><a href="#Assert-断言" class="headerlink" title="Assert(断言)"></a>Assert(断言)</h1><pre><code>头部：const assert = require(&apos;assert&apos;);
</code></pre><h3 id="assert-与-assert-ok"><a href="#assert-与-assert-ok" class="headerlink" title="assert( )与 assert.ok( )"></a>assert( )与 assert.ok( )</h3><p>参数均为 value&lt;any&gt;[, message&lt;any&gt;]</p>
<p>两者相同 </p>
<p>如果 value 不为真值，则抛出一个带有 message 属性的 AssertionError，其中 message 属性的值等于传入的 message 参数的值。 如果 message 参数为 undefined，则赋予默认的错误信息。</p>
<pre><code>const assert = require(&apos;assert&apos;);
assert.ok(1);
// 通过
assert.ok(false);
// 抛出 &quot;AssertionError: false == true&quot;
</code></pre><h3 id="assert-ifError"><a href="#assert-ifError" class="headerlink" title="assert.ifError( )"></a>assert.ifError( )</h3><p>参数为value&lt;any&gt;</p>
<p>如果 value 为真，则抛出 value。</p>
<h3 id="assert-fail"><a href="#assert-fail" class="headerlink" title="assert.fail( )"></a>assert.fail( )</h3><p>参数为actual&lt;any&gt;, expected&lt;any&gt;, message&lt;any&gt;, operator&lt;String&gt;</p>
<p>抛出 AssertionError。 如果 message 不存在，则错误信息会被设为 actual 的值加分隔符 operator 再加 expected 的值。 否则，错误信息为 message 的值。</p>
<pre><code>const assert = require(&apos;assert&apos;);

assert.fail(1, 2, undefined, &apos;&gt;&apos;);
// 抛出 AssertionError: 1 &gt;; 2

assert.fail(1, 2, &apos;错误信息&apos;, &apos;&gt;&apos;);
// 抛出 AssertionError: 错误信息
</code></pre><h3 id="assert-equal-assert-strictEqual-assert-deepEqual-assert-deepStrictEqual"><a href="#assert-equal-assert-strictEqual-assert-deepEqual-assert-deepStrictEqual" class="headerlink" title="assert.equal( ) assert.strictEqual( ) assert.deepEqual( ) assert.deepStrictEqual( )"></a>assert.equal( ) assert.strictEqual( ) assert.deepEqual( ) assert.deepStrictEqual( )</h3><p>参数均为 actual&lt;any&gt;, expected&lt;any&gt;[, message&lt;any&gt;]</p>
<p>assert.equal( )：使用相等运算符（==）测试 actual 参数与 expected 参数是否相等。</p>
<p>assert.strictEqual( )：使用全等运算符（===）测试是否全等。</p>
<p>assert.deepEqual( )：测试 actual 参数与 expected 参数是否深度相等。 原始值使用相等运算符（==）比较。只比较可枚举的自身属性，不比较对象的原型、连接符、或不可枚举的属性。</p>
<p>assert.deepStrictEqual( )：大多数情况下与 assert.deepEqual() 一样，但有两个例外。 首先，原始值使用全等运算符（===）比较。 其次，对象的比较包括检查它们的原型是否全等。</p>
<p>两两比较 区别在于”==”与”===”;基本类型与引用类型(比如说用assert.equal( )去比较对象，只要地址不同，就会抛出错误)；是否检查原型等等。具体对应哪两对，看定义即可。</p>
<h3 id="assert-throws-与assert-doesNotThrow"><a href="#assert-throws-与assert-doesNotThrow" class="headerlink" title="assert.throws( )与assert.doesNotThrow( )"></a>assert.throws( )与assert.doesNotThrow( )</h3><p>参数均为 block&lt;Function&gt;[, error&lt;RegExp&gt; | &lt;Function&gt;][, message&lt;any&gt;]</p>
<p>当 assert.throws( )被调用时，如果 block 抛出错误且错误类型与 error 参数指定的相同，则通过。 如果错误类型不相同，或 error 参数是 undefined，则错误会被抛回给调用者；当 block 不抛出错误时，message 会作为 error 的错误信息;</p>
<p>当 assert.doesNotThrow() 被调用时，它会立即调用 block 函数。<br>如果抛出错误且错误类型与 error 参数指定的相同，则抛出 AssertionError。 如果错误类型不相同，或 error 参数是 undefined，则错误会被抛回给调用者；当 block 不抛出错误时，则通过</p>
<h1 id="Buffer"><a href="#Buffer" class="headerlink" title="Buffer"></a>Buffer</h1><p>Buffer 类是一个全局变量 无需require(‘buffer’).Buffer</p>
<h2 id="新建Buffer"><a href="#新建Buffer" class="headerlink" title="新建Buffer"></a>新建Buffer</h2><h3 id="Buffer-alloc-size-lt-Integer-gt-fill-lt-String-gt-encoding-lt-String-gt"><a href="#Buffer-alloc-size-lt-Integer-gt-fill-lt-String-gt-encoding-lt-String-gt" class="headerlink" title="Buffer.alloc(size&lt;Integer&gt;[,fill&lt;String&gt;[, encoding&lt;String&gt;]])"></a>Buffer.alloc(size&lt;Integer&gt;[,fill&lt;String&gt;[, encoding&lt;String&gt;]])</h3><h3 id="Buffer-allocUnsafe-size-lt-Integer-gt"><a href="#Buffer-allocUnsafe-size-lt-Integer-gt" class="headerlink" title="Buffer.allocUnsafe(size&lt;Integer&gt;)"></a>Buffer.allocUnsafe(size&lt;Integer&gt;)</h3><h3 id="Buffer-allocUnsafeSlow-size-lt-Integer-gt"><a href="#Buffer-allocUnsafeSlow-size-lt-Integer-gt" class="headerlink" title="Buffer.allocUnsafeSlow(size&lt;Integer&gt;)"></a>Buffer.allocUnsafeSlow(size&lt;Integer&gt;)</h3><p>区别：Buffer.alloc( )内容用fill预填充；后两者内容是未知的，且可能包含敏感数据。</p>
<p>后两者间区别在于前者会预分配一个内部Buffer实例作为快速分配池,而后者是非池Buffer。</p>
<h2 id="Buffer比较-合并等操作"><a href="#Buffer比较-合并等操作" class="headerlink" title="Buffer比较 合并等操作"></a>Buffer比较 合并等操作</h2><h3 id="Buffer-compare-buf1-lt-Buffer-gt-buf2-lt-Buffer-gt"><a href="#Buffer-compare-buf1-lt-Buffer-gt-buf2-lt-Buffer-gt" class="headerlink" title="Buffer.compare(buf1&lt;Buffer&gt;, buf2&lt;Buffer&gt;)"></a>Buffer.compare(buf1&lt;Buffer&gt;, buf2&lt;Buffer&gt;)</h3><p>返回一个数 跟sort()那一堆玩意挺像的</p>
<h3 id="Buffer-concat-list-totalLength"><a href="#Buffer-concat-list-totalLength" class="headerlink" title="Buffer.concat(list[, totalLength])"></a>Buffer.concat(list[, totalLength])</h3><p>返回一个合并了 list 中所有 Buffer 实例的新建的 Buffer</p>
<h2 id="Buffer填充数据"><a href="#Buffer填充数据" class="headerlink" title="Buffer填充数据"></a>Buffer填充数据</h2><h3 id="Buffer-from-array"><a href="#Buffer-from-array" class="headerlink" title="Buffer.from(array)"></a>Buffer.from(array)</h3><p>通过一个八位字节的array创建一个新的Buffer。</p>
<pre><code>// 创建一个新的包含字符串 &apos;buffer&apos; 的 UTF-8 字节的 Buffer
const buf = Buffer.from([0x62, 0x75, 0x66, 0x66, 0x65, 0x72]);
</code></pre><h3 id="Buffer-from-buffer-lt-Buffer-gt"><a href="#Buffer-from-buffer-lt-Buffer-gt" class="headerlink" title="Buffer.from(buffer&lt;Buffer&gt;)"></a>Buffer.from(buffer&lt;Buffer&gt;)</h3><p>拷贝一个Buffer</p>
<h3 id="Buffer-from-string-lt-String-gt-encoding-lt-String-gt"><a href="#Buffer-from-string-lt-String-gt-encoding-lt-String-gt" class="headerlink" title="Buffer.from(string&lt;String&gt;[, encoding&lt;String&gt;])"></a>Buffer.from(string&lt;String&gt;[, encoding&lt;String&gt;])</h3><p>新建一个包含所给的JavaScript字符串string的Buffer。encoding参数指定string的字符编码。</p>
<h2 id="Buffer读写操作"><a href="#Buffer读写操作" class="headerlink" title="Buffer读写操作"></a>Buffer读写操作</h2><p>对于不同类型的数值，有不同的读写方法</p>
<p>大致有 </p>
<p>读</p>
<h3 id="buf-readDoubleBE-offset-noAssert"><a href="#buf-readDoubleBE-offset-noAssert" class="headerlink" title="buf.readDoubleBE(offset[, noAssert])"></a>buf.readDoubleBE(offset[, noAssert])</h3><h3 id="buf-readDoubleLE-offset-noAssert"><a href="#buf-readDoubleLE-offset-noAssert" class="headerlink" title="buf.readDoubleLE(offset[, noAssert])"></a>buf.readDoubleLE(offset[, noAssert])</h3><h3 id="buf-readFloatBE-offset-noAssert"><a href="#buf-readFloatBE-offset-noAssert" class="headerlink" title="buf.readFloatBE(offset[, noAssert])"></a>buf.readFloatBE(offset[, noAssert])</h3><h3 id="buf-readFloatLE-offset-noAssert"><a href="#buf-readFloatLE-offset-noAssert" class="headerlink" title="buf.readFloatLE(offset[, noAssert])"></a>buf.readFloatLE(offset[, noAssert])</h3><h3 id="buf-readInt8-offset-noAssert"><a href="#buf-readInt8-offset-noAssert" class="headerlink" title="buf.readInt8(offset[, noAssert])"></a>buf.readInt8(offset[, noAssert])</h3><h3 id="buf-readInt16BE-offset-noAssert"><a href="#buf-readInt16BE-offset-noAssert" class="headerlink" title="buf.readInt16BE(offset[, noAssert])"></a>buf.readInt16BE(offset[, noAssert])</h3><h3 id="buf-readInt16LE-offset-noAssert"><a href="#buf-readInt16LE-offset-noAssert" class="headerlink" title="buf.readInt16LE(offset[, noAssert])"></a>buf.readInt16LE(offset[, noAssert])</h3><h3 id="buf-readInt32BE-offset-noAssert"><a href="#buf-readInt32BE-offset-noAssert" class="headerlink" title="### buf.readInt32BE(offset[, noAssert])"></a>### buf.readInt32BE(offset[, noAssert])</h3><h3 id="buf-readInt32LE-offset-noAssert"><a href="#buf-readInt32LE-offset-noAssert" class="headerlink" title="buf.readInt32LE(offset[, noAssert])"></a>buf.readInt32LE(offset[, noAssert])</h3><h3 id="buf-readIntBE-offset-byteLength-noAssert"><a href="#buf-readIntBE-offset-byteLength-noAssert" class="headerlink" title="buf.readIntBE(offset, byteLength[, noAssert])"></a>buf.readIntBE(offset, byteLength[, noAssert])</h3><h3 id="buf-readIntLE-offset-byteLength-noAssert"><a href="#buf-readIntLE-offset-byteLength-noAssert" class="headerlink" title="buf.readIntLE(offset, byteLength[, noAssert])"></a>buf.readIntLE(offset, byteLength[, noAssert])</h3><h3 id="buf-readUInt8-offset-noAssert"><a href="#buf-readUInt8-offset-noAssert" class="headerlink" title="buf.readUInt8(offset[, noAssert])"></a>buf.readUInt8(offset[, noAssert])</h3><h3 id="buf-readUInt16BE-offset-noAssert"><a href="#buf-readUInt16BE-offset-noAssert" class="headerlink" title="buf.readUInt16BE(offset[, noAssert])"></a>buf.readUInt16BE(offset[, noAssert])</h3><h3 id="buf-readUInt16LE-offset-noAssert"><a href="#buf-readUInt16LE-offset-noAssert" class="headerlink" title="buf.readUInt16LE(offset[, noAssert])"></a>buf.readUInt16LE(offset[, noAssert])</h3><h3 id="buf-readUInt32BE-offset-noAssert"><a href="#buf-readUInt32BE-offset-noAssert" class="headerlink" title="buf.readUInt32BE(offset[, noAssert])"></a>buf.readUInt32BE(offset[, noAssert])</h3><h3 id="buf-readUInt32LE-offset-noAssert"><a href="#buf-readUInt32LE-offset-noAssert" class="headerlink" title="buf.readUInt32LE(offset[, noAssert])"></a>buf.readUInt32LE(offset[, noAssert])</h3><h3 id="buf-readUIntBE-offset-byteLength-noAssert"><a href="#buf-readUIntBE-offset-byteLength-noAssert" class="headerlink" title="buf.readUIntBE(offset, byteLength[, noAssert])"></a>buf.readUIntBE(offset, byteLength[, noAssert])</h3><h3 id="buf-readUIntLE-offset-byteLength-noAssert"><a href="#buf-readUIntLE-offset-byteLength-noAssert" class="headerlink" title="buf.readUIntLE(offset, byteLength[, noAssert])"></a>buf.readUIntLE(offset, byteLength[, noAssert])</h3><p>写</p>
<h3 id="buf-write-string-offset-length-encoding"><a href="#buf-write-string-offset-length-encoding" class="headerlink" title="buf.write(string[, offset[, length]][, encoding])"></a>buf.write(string[, offset[, length]][, encoding])</h3><h3 id="buf-writeDoubleBE-value-offset-noAssert"><a href="#buf-writeDoubleBE-value-offset-noAssert" class="headerlink" title="buf.writeDoubleBE(value, offset[, noAssert])"></a>buf.writeDoubleBE(value, offset[, noAssert])</h3><h3 id="buf-writeDoubleLE-value-offset-noAssert"><a href="#buf-writeDoubleLE-value-offset-noAssert" class="headerlink" title="buf.writeDoubleLE(value, offset[, noAssert])"></a>buf.writeDoubleLE(value, offset[, noAssert])</h3><h3 id="buf-writeFloatBE-value-offset-noAssert"><a href="#buf-writeFloatBE-value-offset-noAssert" class="headerlink" title="buf.writeFloatBE(value, offset[, noAssert])"></a>buf.writeFloatBE(value, offset[, noAssert])</h3><h3 id="buf-writeFloatLE-value-offset-noAssert"><a href="#buf-writeFloatLE-value-offset-noAssert" class="headerlink" title="buf.writeFloatLE(value, offset[, noAssert])"></a>buf.writeFloatLE(value, offset[, noAssert])</h3><h3 id="buf-writeInt8-value-offset-noAssert"><a href="#buf-writeInt8-value-offset-noAssert" class="headerlink" title="buf.writeInt8(value, offset[, noAssert])"></a>buf.writeInt8(value, offset[, noAssert])</h3><h3 id="buf-writeInt16BE-value-offset-noAssert"><a href="#buf-writeInt16BE-value-offset-noAssert" class="headerlink" title="buf.writeInt16BE(value, offset[, noAssert])"></a>buf.writeInt16BE(value, offset[, noAssert])</h3><h3 id="buf-writeInt16LE-value-offset-noAssert"><a href="#buf-writeInt16LE-value-offset-noAssert" class="headerlink" title="buf.writeInt16LE(value, offset[, noAssert])"></a>buf.writeInt16LE(value, offset[, noAssert])</h3><h3 id="buf-writeInt32BE-value-offset-noAssert"><a href="#buf-writeInt32BE-value-offset-noAssert" class="headerlink" title="buf.writeInt32BE(value, offset[, noAssert])"></a>buf.writeInt32BE(value, offset[, noAssert])</h3><h3 id="buf-writeInt32LE-value-offset-noAssert"><a href="#buf-writeInt32LE-value-offset-noAssert" class="headerlink" title="buf.writeInt32LE(value, offset[, noAssert])"></a>buf.writeInt32LE(value, offset[, noAssert])</h3><h3 id="buf-writeIntBE-value-offset-byteLength-noAssert"><a href="#buf-writeIntBE-value-offset-byteLength-noAssert" class="headerlink" title="buf.writeIntBE(value, offset, byteLength[, noAssert])"></a>buf.writeIntBE(value, offset, byteLength[, noAssert])</h3><h3 id="buf-writeIntLE-value-offset-byteLength-noAssert"><a href="#buf-writeIntLE-value-offset-byteLength-noAssert" class="headerlink" title="buf.writeIntLE(value, offset, byteLength[, noAssert])"></a>buf.writeIntLE(value, offset, byteLength[, noAssert])</h3><h3 id="buf-writeUInt8-value-offset-noAssert"><a href="#buf-writeUInt8-value-offset-noAssert" class="headerlink" title="buf.writeUInt8(value, offset[, noAssert])"></a>buf.writeUInt8(value, offset[, noAssert])</h3><h3 id="buf-writeUInt16BE-value-offset-noAssert"><a href="#buf-writeUInt16BE-value-offset-noAssert" class="headerlink" title="buf.writeUInt16BE(value, offset[, noAssert])"></a>buf.writeUInt16BE(value, offset[, noAssert])</h3><h3 id="buf-writeUInt16LE-value-offset-noAssert"><a href="#buf-writeUInt16LE-value-offset-noAssert" class="headerlink" title="buf.writeUInt16LE(value, offset[, noAssert])"></a>buf.writeUInt16LE(value, offset[, noAssert])</h3><h3 id="buf-writeUInt32BE-value-offset-noAssert"><a href="#buf-writeUInt32BE-value-offset-noAssert" class="headerlink" title="buf.writeUInt32BE(value, offset[, noAssert])"></a>buf.writeUInt32BE(value, offset[, noAssert])</h3><h3 id="buf-writeUInt32LE-value-offset-noAssert"><a href="#buf-writeUInt32LE-value-offset-noAssert" class="headerlink" title="buf.writeUInt32LE(value, offset[, noAssert])"></a>buf.writeUInt32LE(value, offset[, noAssert])</h3><h3 id="buf-writeUIntBE-value-offset-byteLength-noAssert"><a href="#buf-writeUIntBE-value-offset-byteLength-noAssert" class="headerlink" title="buf.writeUIntBE(value, offset, byteLength[, noAssert])"></a>buf.writeUIntBE(value, offset, byteLength[, noAssert])</h3><h3 id="buf-writeUIntLE-value-offset-byteLength-noAssert"><a href="#buf-writeUIntLE-value-offset-byteLength-noAssert" class="headerlink" title="buf.writeUIntLE(value, offset, byteLength[, noAssert])"></a>buf.writeUIntLE(value, offset, byteLength[, noAssert])</h3><p>其中，offset为读/写位置，noAssert&lt;Boolean&gt; 为是否检验 value为写入值，byteLength为读取长度</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/10/搬运向——JS书写风格/" itemprop="url">
                  搬运向——JS书写风格
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-10T19:35:53+08:00" content="2017-05-10">
              2017-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/05/10/搬运向——JS书写风格/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/10/搬运向——JS书写风格/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://medium.com/javascript-scene/elements-of-javascript-style-caa8821cb99f" target="_blank" rel="external">这里是原文</a></p>
<p>#写在前面 </p>
<p>原文是英文 篇幅很长 但是核心思想很简单 下面稍作翻译 </p>
<h2 id="函数是功能的基本单位-一个函数对应一个功能"><a href="#函数是功能的基本单位-一个函数对应一个功能" class="headerlink" title="函数是功能的基本单位 一个函数对应一个功能"></a>函数是功能的基本单位 一个函数对应一个功能</h2><p>JS中函数可以分为三种 代理函数(作为通信交流的函数) 命令型函数(这种函数就是指令的集合) 映射型函数(给定输入，返回相应输出)</p>
<p>这里的原则是 如果功能适用于I/O，请勿将该I/O与计算进行混合 如果功能用于映射 请勿将其与I/O进行混合</p>
<p>最理想的就是 纯函数 这也是一个提的很多的词 纯函数的约束条件是 给出同样的参数值 该函数总是求出同样的结果;结果的求值不会促使任何可语义上可观察的副作用或输出  </p>
<h2 id="简化代码"><a href="#简化代码" class="headerlink" title="简化代码"></a>简化代码</h2><p>这个简要提几句就行了 </p>
<pre><code>function secret (message) {
    return function () {
        return message;
    }
};
</code></pre><p>与 const secret = msg =&gt; () =&gt; msg;</p>
<p>原则</p>
<pre><code>如果你可以用较少的语句实现同样的功能而不改变或模糊语义 
如果你可以用较少的变量实现同样的功能而不改变或模糊语义 
那么 就这么做吧
</code></pre><h2 id="变量命名用主动语态"><a href="#变量命名用主动语态" class="headerlink" title="变量命名用主动语态"></a>变量命名用主动语态</h2><pre><code>myFunction.wasCalled()优于myFunction.hasBeenCalled()
createUser()优于User.create()
notify()优于Notifier.doNotification()
</code></pre><p>如果涉及到了布尔值 尽量用is开头</p>
<pre><code>isFirstRun = false优于firstRun = false
</code></pre><p>函数命名尽量用动词</p>
<pre><code>increment()优于than plusOne()
unzip()优于filesFromZip()
</code></pre><p>如果是涉及到事件处理 用&lt;状态&gt;&lt;动词&gt;命名</p>
<pre><code>element.onClick(handleClick)优于element.click(handleClick)
component.onDragStart(handleDragStart)优于 component.startDrag(handleDragStart)
</code></pre><p>生命周期</p>
<pre><code>componentWillBeUpdated(doSomething)
componentWillUpdate(doSomething)
beforeUpdate(doSomething)
</code></pre><p>这三者 比较一下 孰优孰劣 一眼便知</p>
<h2 id="减少耦合-减少重复"><a href="#减少耦合-减少重复" class="headerlink" title="减少耦合 减少重复"></a>减少耦合 减少重复</h2><p>实现功能的可分离</p>
<p>每个组件可以重用相同的结构和生命周期挂钩 并且性能更好 能减少重复找工作 同时增加代码的可维护性</p>
<p>## 将关联代码放置在一起</p>
<p>模块化的基础之一 不赘述 不如去看一个项目的文件结构</p>
<h2 id="肯定语气优于否定"><a href="#肯定语气优于否定" class="headerlink" title="肯定语气优于否定"></a>肯定语气优于否定</h2><pre><code>isFlying优于isNotFlying
late优于notOnTime
</code></pre><p>代码块的话</p>
<pre><code>if (err) return reject(err);
// do something...
</code></pre><p>优于</p>
<pre><code>if (!err) {
// ... do something
} else {
return reject(err);
}
</code></pre><p>这个否定也包含undefined和null</p>
<h2 id="并行概念使用并行代码"><a href="#并行概念使用并行代码" class="headerlink" title="并行概念使用并行代码"></a>并行概念使用并行代码</h2><p>抛出几个关键词吧 组件 JSX与HTML模板 说白了 就是各类JS框架的舞台</p>
<h1 id="一言以蔽之-代码应简单化"><a href="#一言以蔽之-代码应简单化" class="headerlink" title="一言以蔽之 代码应简单化"></a>一言以蔽之 代码应简单化</h1><p>关键词是</p>
<pre><code>减少bug
易于调试
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/02/每日一道算法题/" itemprop="url">
                  每日一道算法题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-04-02T12:41:56+08:00" content="2017-04-02">
              2017-04-02
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/04/02/每日一道算法题/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/04/02/每日一道算法题/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>不算一时兴起 只是单纯感受到自己的不足</p>
<h2 id="2017-04-02"><a href="#2017-04-02" class="headerlink" title="2017-04-02"></a>2017-04-02</h2><p><a href="https://leetcode.com/problems/two-sum/#/description" target="_blank" rel="external">Two Sum</a></p>
<p>Given an array of integers, return indices of the two numbers such that they add up to a specific target.</p>
<p>You may assume that each input would have exactly one solution, and you may not use the same element twice.</p>
<p>Example:</p>
<pre><code>Given nums = [2, 7, 11, 15], target = 9,

Because nums[0] + nums[1] = 2 + 7 = 9,
return [0, 1].
</code></pre><p>My answer:  </p>
<pre><code>/**
* @param {number[]} nums
* @param {number} target
* @return {number[]}
*/
var twoSum = function(nums, target) {
    var res=[];
    outerloop:
    for(let i=0;i&lt;nums.length;i++){
        for(let j=i+1;j&lt;nums.length;j++){
            if(nums[i]+nums[j]==target){
                res.push(i,j);
                break outerloop;
            }
        }
    }
    return res;
};
</code></pre><h2 id="2017-04-03"><a href="#2017-04-03" class="headerlink" title="2017-04-03"></a>2017-04-03</h2><p><a href="https://leetcode.com/problems/hamming-distance/#/description" target="_blank" rel="external">Hamming Distance</a></p>
<p>The Hamming distance between two integers is the number of positions at which the corresponding bits are different.</p>
<p>Given two integers x and y, calculate the Hamming distance.</p>
<p>Note:<br>0 ≤ x, y &lt; 2^31.</p>
<p>Example:</p>
<pre><code>Input: x = 1, y = 4

Output: 2

Explanation:
1   (0 0 0 1)
4   (0 1 0 0)
    ↑   ↑

The above arrows point to positions where the corresponding bits are different.
</code></pre><p>My answer:</p>
<pre><code>/**
* @param {number} x
* @param {number} y
* @return {number}
*/
var hammingDistance = function(x, y) {
    var res=0;
    var x2=x.toString(2).split(&quot;&quot;);
    var y2=y.toString(2).split(&quot;&quot;);
    if(x2.length&gt;y2.length){
        for(let i=y2.length;i&lt;x2.length;i++){
            y2.unshift(0);
        }
    }
    else{
        for(let j=x2.length;j&lt;y2.length;j++){
            x2.unshift(0);
        }
    }  
    for(let k=0;k&lt;x2.length;k++){
        if(x2[k]!=y2[k])res++;
    }   
    return res;
};
</code></pre><p>这个答案很粗暴愚蠢…是我的第一感  </p>
<p>稍作思考，便有了第二版答案，比第一版简洁不少</p>
<pre><code>var hammingDistance = function(x, y) {
    var res=0;
    for(i=0;i&lt;(x^y).toString(2).length;i++){
        if((x^y).toString(2)[i]==1)res++
    }
    return res;
};
</code></pre><p>discuss里面找到个更简单的 一行…就一行 贼简单 感觉智商被碾压</p>
<pre><code>var hammingDistance = function(x, y) {
    return (x^y).toString(2).replace(/0/g, &apos;&apos;).length;
};
</code></pre><h2 id="2017-04-04"><a href="#2017-04-04" class="headerlink" title="2017-04-04"></a>2017-04-04</h2><p><a href="https://leetcode.com/problems/number-complement/#/description" target="_blank" rel="external">Number Complement</a></p>
<p>Given a positive integer, output its complement number. The complement strategy is to flip the bits of its binary representation.</p>
<p>Note:</p>
<ol>
<li>The given integer is guaranteed to fit within the range of a 32-bit signed integer.</li>
<li>You could assume no leading zero bit in the integer’s binary representation.</li>
</ol>
<p>Example 1:</p>
<pre><code>Input: 5
Output: 2
Explanation: The binary representation of 5 is 101 (no leading zero bits), and its complement is 010. So you need to output 2.
</code></pre><p>Example 2:</p>
<pre><code>Input: 1
Output: 0
Explanation: The binary representation of 1 is 1 (no leading zero bits), and its complement is 0. So you need to output 0.
</code></pre><p>My answer</p>
<pre><code>/**
* @param {number} num
* @return {number}
*/
var findComplement = function(num) {
    if (num === 0) { return 1; }
    return num ^ (Math.pow(2, Math.floor(Math.log2(num))+1)-1);
};
</code></pre><h2 id="2017-04-05"><a href="#2017-04-05" class="headerlink" title="2017-04-05"></a>2017-04-05</h2><p><a href="https://leetcode.com/problems/fizz-buzz/#/description" target="_blank" rel="external">Fizz Buzz</a></p>
<p>Write a program that outputs the string representation of numbers from 1 to n.</p>
<p>But for multiples of three it should output “Fizz” instead of the number and for the multiples of five output “Buzz”. For numbers which are multiples of both three and five output “FizzBuzz”.</p>
<p>Example:</p>
<pre><code>n = 15,

Return:
[
    &quot;1&quot;,
    &quot;2&quot;,
    &quot;Fizz&quot;,
    &quot;4&quot;,
    &quot;Buzz&quot;,
    &quot;Fizz&quot;,
    &quot;7&quot;,
    &quot;8&quot;,
    &quot;Fizz&quot;,
    &quot;Buzz&quot;,
    &quot;11&quot;,
    &quot;Fizz&quot;,
    &quot;13&quot;,
    &quot;14&quot;,
    &quot;FizzBuzz&quot;
]
</code></pre><p>My answer</p>
<pre><code>var fizzBuzz = function(n) {
    var result = [],
        str, i=1;
    while( i &lt;= n ){
        str = &quot;&quot;;
        if( i%3===0 ) str = &apos;Fizz&apos;;
        if( i%5===0 ) str += &apos;Buzz&apos;;
        if(!str) str += i;
        result.push( str );
        i++;
    }
    return result;
};
</code></pre><h2 id="2017-04-06"><a href="#2017-04-06" class="headerlink" title="2017-04-06"></a>2017-04-06</h2><p><a href="https://leetcode.com/problems/reverse-string/#/description" target="_blank" rel="external">Reverse String</a></p>
<p>Write a function that takes a string as input and returns the string reversed.</p>
<p>Example:</p>
<p>Given s = “hello”, return “olleh”.</p>
<p>Subscribe to see which companies asked this question.</p>
<p>My answer</p>
<pre><code>var reverseString = function(s) {
    return s.split(&apos;&apos;).reverse().join(&apos;&apos;);
};
</code></pre><h2 id="2017-04-07"><a href="#2017-04-07" class="headerlink" title="2017-04-07"></a>2017-04-07</h2><p><a href="https://leetcode.com/problems/next-greater-element-i/#/description" target="_blank" rel="external">Next Greater Element I</a></p>
<p>You are given two arrays (without duplicates) nums1 and nums2 where nums1’s elements are subset of nums2. Find all the next greater numbers for nums1’s elements in the corresponding places of nums2.</p>
<p>The Next Greater Number of a number x in nums1 is the first greater number to its right in nums2. If it does not exist, output -1 for this number.</p>
<p>Example 1:</p>
<pre><code>Input: nums1 = [4,1,2], nums2 = [1,3,4,2].
Output: [-1,3,-1]
Explanation:
    For number 4 in the first array, you cannot find the next greater number for it in the second array, so output -1.
    For number 1 in the first array, the next greater number for it in the second array is 3.
    For number 2 in the first array, there is no next greater number for it in the second array, so output -1.
</code></pre><p>Others’:</p>
<pre><code>var nextGreaterElement = function(findNums, nums) {
    return findNums.map(n =&gt; {
        let found = nums.indexOf(n);
        while (nums[++found] &lt; n);
        if (found &gt;= nums.length) found = -1;
        else found = nums[found];      
        return found;
    });
};
</code></pre><p>有意思的是这一句</p>
<pre><code>while (nums[++found] &lt; n);
</code></pre><p>作用是跳到下一个有效索引 嗯 有意思 </p>
<h2 id="2017-04-08"><a href="#2017-04-08" class="headerlink" title="2017-04-08"></a>2017-04-08</h2><p><a href="Calculate the sum of two integers a and b, but you are not allowed to use the operator + and -.">Sum of Two Integers</a></p>
<p>Example:</p>
<p>Given a = 1 and b = 2, return 3.</p>
<p>others’:<br>    var getSum = function(a, b) {<br>                var carry=a&b;<br>                var result=a^b;<br>                while(carry!==0){<br>                        var arry_t=carry&lt;&lt;1;<br>                carry=carry_t&result;<br>                    result=result^carry_t;<br>                }<br>                return result;<br>    };</p>
<h2 id="2017-04-09"><a href="#2017-04-09" class="headerlink" title="2017-04-09"></a>2017-04-09</h2><p>先说下前言</p>
<p>参加了好几场笔试 平台是赛码网 有些基本编译器环境不是很适应 比如</p>
<pre><code>使用JavaScript语言请注意：作答时不要进行DOM相关操作，读取一行输入：read_line()，输出一行：print(something)；在使用read_line()函数时，请注意如果一行输入超过1024字符，需要多次调用read_line读取输入后自行拼接；在使用print函数输出时请注意，末尾自动带有换行符，无需自己添加。 
</code></pre><p>输入都是一行一行的 读取也要这样</p>
<p>当时比较纠结的就是这个read_line() 所以之后会以这个平台的题目为主 leetcode先放一放</p>
<p>题目描述：<a href="http://exercise.acmcoder.com/online/online_judge_ques?ques_id=3817&amp;konwledgeId=41" target="_blank" rel="external">选举游戏</a></p>
<pre><code>小东和其他小朋友正在玩一个关于选举的游戏。选举是通过投票的方式进行的，得票最多的人将获胜。

小东是编号为1的候选者，此外还有其他的候选者参加选举。根据初步的调查情况，所有准备投票的小朋友都有一定的投票倾向性，小东如果要获得胜利，必须争取部分准备为其他候选人投票的小朋友。由于小东的资源较为有限，她希望用最小的代价赢得胜利，请你帮忙计算她最少需要争取的选票数。
</code></pre><p>输入</p>
<pre><code>输入有若干组，每组包含两行，第一行为一个正整数n（2&lt;=n&lt;=100），表示候选者的数量，第二行为每个候选人预期得到的选票数，以空格分开，每人的预期得票数在1到1000之间（包含1和1000）。

经过小东的争取后，可能出现候选人得票数为0或超过1000的情况。
</code></pre><p>输出</p>
<pre><code>对每组测试数据，单独输出一行，内容为小东最少需要争取的选票数。
</code></pre><p>样例输入</p>
<pre><code>5

5 1 11 2 8

4

1 8 8 8

2

7 6
</code></pre><p>样例输出</p>
<pre><code>4

6

0
</code></pre><p>others’:</p>
<pre><code>var n;
while(n =  read_line()){      
    var arr = read_line().split(&apos; &apos;);
    fn1(n,arr);
}
function fn1(n,arr) {
    var dong = arr[0];
    var index = 0;
    var i = 0;
    while(n&gt;1){
        arr.sort(compare);
        index = arr.indexOf(dong);
        if(n - index === 1){
            break;    
        }
        dong++;
        i++;
        arr[index] = dong;
        arr[n-1]--;
    }
    print(i);
}
function compare(a,b) {
    return a-b;
}
</code></pre><p>其实我想了解的是这个read_line() 以及拿到数据后要怎么处理</p>
<p>具体的算法 过两天再说吧</p>
<p>（笔试 对自己的表现挺失望的 这么几场下来）</p>
<h2 id="2017-04-10"><a href="#2017-04-10" class="headerlink" title="2017-04-10"></a>2017-04-10</h2><p>题目描述：<a href="http://exercise.acmcoder.com/online/online_judge_ques?ques_id=1656&amp;konwledgeId=134" target="_blank" rel="external">翻转数组</a></p>
<p>给定一个长度为n的整数数组a，元素均不相同，问数组是否存在这样一个片段，只将该片段翻转就可以使整个数组升序排列。其中数组片段[l,r]表示序列a[l], a[l+1], …, a[r]。原始数组为</p>
<p>a[1], a[2], …, a[l-2], a[l-1], a[l], a[l+1], …, a[r-1], a[r], a[r+1], a[r+2], …, a[n-1], a[n]，</p>
<p>将片段[l,r]反序后的数组是</p>
<p>a[1], a[2], …, a[l-2], a[l-1], a[r], a[r-1], …, a[l+1], a[l], a[r+1], a[r+2], …, a[n-1], a[n]。</p>
<p>输入</p>
<p>第一行数据是一个整数：n (1≤n≤105)，表示数组长度。</p>
<p>第二行数据是n个整数a[1], a[2], …, a[n] (1≤a[i]≤109)。</p>
<p>myAnswer:</p>
<pre><code>var length=read_line();
var a=read_line().split(&apos; &apos;);
var temp1=0;
function sortNumber(a,b){
    return a - b
}
var goalA=a.concat().sort(sortNumber)
for(i=0;i&lt;a.length-3;i++){
    if(a[i]&lt;a[i+1]&amp;&amp;a[i+1]&gt;a[i+2]){
        var temp2=i+1;
        temp1+=1;
    }
    if(a[i]&gt;a[i+1]&amp;&amp;a[i+1]&lt;a[i+2]){
        var temp3=i+1;
        temp1+=1;
    }
}
if((temp1==2&amp;&amp;a[temp2]&lt;a[temp3+1]&amp;&amp;a[temp3]&gt;a[temp2-1])||(temp1==1&amp;&amp;a[temp3+1]&gt;a[0])||(temp1=0)){
    print(&quot;yes&quot;);
}
else{
    print(&quot;no&quot;);   
}
</code></pre><p>这个答案是有问题的 但是自己找不出问题在哪…如果dalao帮我解惑 那是最好的</p>
<p>然后是别人的正确答案</p>
<pre><code>function func(n, a){
    var x = 0;
    var y = 0; 
    var b = [];
    var c = [];
    if(n == 1 || (n == 2 &amp;&amp; a[0] &gt; a[1])){
        return &quot;yes&quot;;
    }else{
        for(var i = 0; i &lt; n-1; i++){
            if(a[i] &gt; a[i+1] &amp;&amp; y == 0){
                x++;
                y = 1;
                i==0 ? b.push(0) : b.push(a[i-1]);
                b.push(a[i]);
            }
            else if(a[i] &lt; a[i+1] &amp;&amp; y == 1){
                y = 0;
                c.push(a[i]);
                c.push(a[i+1]);
            }
        }

        if((x == 1 &amp;&amp; b[0] &lt; c[0] &amp;&amp; b[1] &lt; c[1]) || x == 0){
            return &quot;yes&quot;;
        }else{
            return &quot;no&quot;;
        }
    }
}

var nn, one;
var aa = [];
var line;
while(line= read_line()){
    line = line.split(&apos; &apos;);
    if(line.length == 1){
        nn = parseInt(line[0]);
    }else{
        aa = line;
        for(one in aa){
            aa[one] = parseInt(aa[one]);
        }
    }
}

print(func(nn, aa));
</code></pre><h2 id="2017-04-10-1"><a href="#2017-04-10-1" class="headerlink" title="2017-04-10"></a>2017-04-10</h2><p><a href="http://exercise.acmcoder.com/online/online_judge_ques?ques_id=1677&amp;konwledgeId=134" target="_blank" rel="external">约德尔测试</a></p>
<p>题目描述</p>
<p>兰博和提莫闲聊之后，回归到了他们的正题，约德尔人的未来。<br>说起约德尔人的未来，黑默丁格曾经提出了一个约德尔测试，将约德尔人的历史的每个阶段都用一个字符表达出来。(包括可写字符,不包括空格。)。然后将这个字符串转化为一个01串。转化规则是如果这个字符如果是字母或者数字，这个字符变为1,其它变为0。然后将这个01串和黑默丁格观测星空得到的01串做比较，得到一个相似率。相似率越高,则约德尔的未来越光明。<br>请问:相似率为多少？</p>
<p>输入</p>
<p>每组输入数据为两行，第一行为有关约德尔人历史的字符串，第二行是黑默丁格观测星空得到的字符串。</p>
<p>(两个字符串的长度相等,字符串长度不小于1且不超过1000。)</p>
<p>输出</p>
<p>输出一行，在这一行输出相似率。用百分数表示。(相似率为相同字符的个数/总个数,精确到百分号小数点后两位。printf(“%%”);输出一个%。)</p>
<p>样例输入</p>
<p>@!%12dgsa</p>
<p>010111100</p>
<p>样例输出</p>
<p>66.67%</p>
<pre><code>myAnswer:

var str1 = read_line().trim();
var str2 = read_line().trim();
var count = 0, result = &apos;&apos;;

for (var i = 0; i &lt; str1.length; i ++) {
    if (/[0-9a-zA-Z]/.test(str1[i])) {
        if (str2[i] == &apos;1&apos;) {
            count ++;
        }
    } else {
        if (str2[i] == &apos;0&apos;) {
            count ++;
        }
    }
}
result = (100 * count / str2.length).toFixed(2) + &apos;%&apos;;

print(result);
</code></pre><p>就是正则 没啥说的 </p>
<h2 id="2017-04-11"><a href="#2017-04-11" class="headerlink" title="2017-04-11"></a>2017-04-11</h2><p><a href="http://exercise.acmcoder.com/online/online_judge_ques?ques_id=1659&amp;konwledgeId=134" target="_blank" rel="external">公交车乘客</a></p>
<p>题目描述</p>
<p>一个公交车经过n个站点，乘客从前门上车，从后门下车。</p>
<p>现在统计了在第i个站，下车人数a[i]，以及上车人数b[i]。</p>
<p>问公交车运行时候车上最多有多少乘客</p>
<p>输入</p>
<p>第一行读入一个整数n(1&lt;=n&lt;=100)，表示有n个站点</p>
<p>接下来n行，每行两个数值，分别表示在第i个站点下车人数和上车人数</p>
<p>输出</p>
<p>每组输出车上最多的乘客数目</p>
<p>样例输入<br>4</p>
<p>0 3</p>
<p>2 5</p>
<p>4 2</p>
<p>4 0</p>
<p>样例输出</p>
<p>6</p>
<p>myAnswer:</p>
<pre><code>var n = parseInt(read_line());
            var count = 0;
            var max = 0;

            var up = 0,
                down = 0;

            var line;

            for (var i = 0; i &lt; n; i++){
                line = read_line().split(&quot; &quot;);

                down = parseInt(line[0]);
                up = parseInt(line[1]);

                count = count - down + up;

                if (count &gt; max){
                    max = count;
                }
            }

            print(max);
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/18/我的围棋时光/" itemprop="url">
                  我的围棋时光
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-18T19:53:59+08:00" content="2017-02-18">
              2017-02-18
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/02/18/我的围棋时光/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/18/我的围棋时光/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>一篇迟到了很久的文章 算是纪念曾经的围棋时光 也可以说是有感而发 睹物生情</p>
<p>起因是看到了这个<a href="http://www.wqszjs.com/" target="_blank" rel="external"> 湖南省青少年围棋实战教室</a> 我围棋学习的终点 点进去看到很多老熟人 他们还好么 我最想问 </p>
<p>在这之前 先说说自己吧 幼儿园大班开始学棋 小四转到实战教室 到初一结束 奉献了几乎每一个周末与少量的正课时间 最后得到的是 国家级二级运动员和业余5段的称号 总的来说 六年时间 没啥太多遗憾的吧 反正比很多同棋龄的同志强很多了 不吹不黑 最后因为学业退出 或许是因为胆怯自己没能力过定段赛的独木桥 也可以说是见好就收 至少结果看来 不算太差</p>
<p>该说说当时一起的老头和小伙伴了 </p>
<p>校长杨云杰先生 不说了 以后会特地写一篇纪念的</p>
</blockquote>
<p><img src="http://ojmfqgj21.bkt.clouddn.com/pic1.png" width="200" height="300" alt="teacher"></p>
<blockquote>
<p>先从曾晓松老师说起吧 算是我在实战教师的入门老师 当年转学 初到教室报到 自以为有一定棋力 便不知天高地厚 曾老师安排一稍强对手 将我杀得片甲不留 方知收敛 然好景不长 之后小班教学乱插嘴 顶撞老师 便被他罚出教室反省 于是对此人无太多好感 之后考段将比赛弄错时间 父亲急忙通知还在上英语课的我赶往赛场 然而还是错过了第一局 依照原则 错过一局将取消比赛资格 是曾老师 为我向主办方求情 软硬兼施 最后得以继续参赛 初到赛场 惊魂未定 稍作休息 勉强拿下第二局 从赛场出来 见曾老师对我微笑 连忙道谢 最后赛程顺利 发挥正常 成功升段 之后便换班 不再归曾老师教 每次遇到 还是恭恭敬敬叫 曾老师好 不论如何 总还是 有丝丝遗憾</p>
<p>陶军老师 人称小诸葛 儒雅风流 气质不凡 负责学生的疑难问题解答 我与他交集不深 只能勉强记得大概</p>
<p>罗一谟老师 实在是毫无印象 有可能见过一两面吧 很是遗憾</p>
<p>廖立明老师 曾老师之后的第二位 也是最后一位“导师” 棋力在各位老师中不算最强 但教学实力有目共睹 当时负责一组 二组的教学 学校实行升降组制度 一组上还有特训组 15人左右 代表实战教室小棋手的最高水平 一组二组各50人左右 为中坚力量 三组以一月为周期进行内部比赛 星期六下午进行 一人一下午三场 一月共计十二 每组前两名升组 后两名降组 同时每组前三有奖金 依次为50 30 10 对当时的我们来说算是一笔巨款 廖老师对小棋手们一视同仁 悉心照顾 我算是比较努力的一个 从二组打起 很快升到二组上游水平 之后在一二组坐升降梯 还被其他小伙伴调侃为骗奖金 廖老师找我单独谈话 并亲自复盘辅导 成效很大 数月后 便稳定下来</p>
<p>一组的竞争又残酷许多 好在已有经验 很快便站稳脚跟 不到一年 便成为组内的佼佼者 之后顺利升入特训组 开始与围棋教室的最强精英们同台竞技了 再半年后 小学毕业 “功成身退” 与心爱的围棋挥手告别</p>
<p>学棋数年 印象最深的是食堂的鸡汤泡饭 数十人围绕一桌 望着一碗不大不小的炖鸡 虎视眈眈 如今回想 仍是一片幸福</p>
<p>当年我离开后 仍在坚持的战友们 他们怎么样了呢？ 我认识最久的一位 也是当时棋力较强的一位 肖君 看新闻 参加了2015的定段赛 可惜折戟而归 之后某团体赛 获得第六名 16年定段赛 他参加了么 成功了么 我不知道 倘若再次失败 恐怕以后机会不多了罢 另一位我搜到消息的 郑君 也是在团体赛上大放异彩 然而定段赛 恐怕也是不如意吧 </p>
<p>相比之下 我有些庆幸当时的离开 数万人参加 最后只取二十位胜者的定段赛 倘若我去 即使撞个头破血流 也几乎不可能有啥胜算的 写到这 不禁对那些仍在坚持的战友们肃然起敬 你们一定要努力啊！</p>
<p>写到这里 也该告一段落了 一大柜子的《围棋天地》 见证了我的成长 可惜 它们恐怕也只能默默吃灰 再无用武之地了罢</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/06/EventListener的useCapture/" itemprop="url">
                  addEventListener的useCapture
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-06T21:55:39+08:00" content="2016-12-06">
              2016-12-06
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/06/EventListener的useCapture/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/06/EventListener的useCapture/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>主角是</p>
<p>element.addEventListener(event, function, useCapture)</p>
<p>addEventListener有三个参数，前两个参数必填，也是我们熟知的 第三个参数useCapture知道的人就不是那么多了。这是选填参数，可选值为布尔值，指定事件是否在捕获或冒泡阶段执行，默认值为false。</p>
<p>举个栗子简单明了 </p>
</blockquote>
<pre><code>html:
    &lt;div class=&quot;a&quot;&gt;
        &lt;div class=&quot;b&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;

css:
    .a,.b{
    width: 100px;
    height: 100px;
    background: red;
    }

js:
    document.getElementsByClassName(&quot;a&quot;)[0].addEventListener(&apos;click&apos;, function(){alert(1);},false);
    document.getElementsByClassName(&quot;b&quot;)[0].addEventListener(&apos;click&apos;, function(){alert(2);},false);
</code></pre><blockquote>
<p>然后点击 会先输出2，然后是1；</p>
<p>如果js改成这样，事情就有点不同了</p>
</blockquote>
<pre><code>js:
document.getElementsByClassName(&quot;a&quot;)[0].addEventListener(&apos;click&apos;, function(){alert(1);},true);
document.getElementsByClassName(&quot;b&quot;)[0].addEventListener(&apos;click&apos;, function(){alert(2);},true);
</code></pre><blockquote>
<p>这次，是先输出1，然后2。</p>
<p>个人理解 这里的true或者false可以理解为事件执行的优先级。在事件同时触发的情况下，优先执行参数为true的。其中：父元素为true&gt;子元素为true&gt;子元素为false&gt;父元素为false；</p>
<p>另外，在子元素上进行的动作 会触发父元素的相关事件 这条跟元素在浏览器上的显示位置是否重叠无关</p>
<p>稍稍修改上面的栗子，css加个绝对定位把div分开<br>    html:<br>        <div class="a"><br>            <div class="b"></div><br>        </div></p>
</blockquote>
<pre><code>css:
    .a{
    position: absolute;
    width: 100px;
    height: 100px;
    background: red;
    }

    .b{
    position: absolute;
    left: 200px;
    width: 100px;
    height: 100px;
    background: blue;
    }

js:
    document.getElementsByClassName(&quot;a&quot;)[0].addEventListener(&apos;click&apos;, function(){alert(1);},false);
    document.getElementsByClassName(&quot;b&quot;)[0].addEventListener(&apos;click&apos;, function(){alert(2);},false);
</code></pre><blockquote>
<p>点击之后，结果是一样的。先2后1。</p>
<p>再搞点事情 把.a,.b变成兄弟元素，然后去掉.b的left: 200px,让ab叠一起;这时，是B在上A在下</p>
</blockquote>
<pre><code>html:
    &lt;div class=&quot;a&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;b&quot;&gt;&lt;/div&gt;

css:
    .a,.b{
    position: absolute;
    width: 100px;
    height: 100px;
    background: red;
    }
</code></pre><blockquote>
<p>点击，这时只输出2，没有1 换句话说点击不能穿透.b传到位置在底下的.a;</p>
<p>如果用z-index让a在上面的话，点击就只输出1了 </p>
<p>所以 事件触发跟元素在文档的位置有关(父元素子元素) 对于兄弟元素在浏览器位置的重叠，没有穿透性(不就是下面的被上面的盖住了么)</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/05/小flag/" itemprop="url">
                  小flag
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-11-05T18:51:11+08:00" content="2016-11-05">
              2016-11-05
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/05/小flag/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/05/小flag/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>截至大二上的：<br>1.完成ng2的文档学习 可以初步写一点hello world类的玩意<br>2.《JS高程》完整刷完第二遍 做好笔记<br>3.不挂科<br>4.张老师的blog 每篇文章刷完 部分理解即可</p>
<p>截至大二下的：<br>1.将ng2转化为生产力 换句话说 用ng2写项目<br>2.《你不知道的JS》这类书再读几本<br>3.再做几个项目 刷下知乎 github之类 充实简历<br>4.接上条 做出自己的简历(要努力啊)<br>5.体重保持75kg 不高不低 健健康康挺好的<br>6.180cm(应该也差不多了吧 没量过)<br>7.脱单(不强求 看缘分)<br>8.暑假找个公司去实习 大的小的都行 主要是开阔眼界 锻炼技术 轮得到我做事最好 为大三实习或者校招做好准备<br>9.留长发 我厌倦短发了</p>
<blockquote>
<p>暂时就这样吧</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/31/ng2学习笔记/" itemprop="url">
                  ng2学习笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-31T19:55:52+08:00" content="2016-10-31">
              2016-10-31
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/31/ng2学习笔记/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/31/ng2学习笔记/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="2016-3-21"><a href="#2016-3-21" class="headerlink" title="2016-3-21"></a>2016-3-21</h2><blockquote>
<p>vue全家桶比这个简单多了…不过总是要回头继续学的</p>
</blockquote>
<h2 id="2016-11-14"><a href="#2016-11-14" class="headerlink" title="2016-11-14"></a>2016-11-14</h2><blockquote>
<p>考试周 一拖就是半个月 </p>
<p>最近学的 其实也没太多好说的 就是跟着文档 边看边敲边改 越看问题越大</p>
<p>也只能弄懂基本原理 其他的就说不上来了 </p>
<p>之后可能不会更了 但是不代表不继续学</p>
</blockquote>
<h2 id="2016-11-2"><a href="#2016-11-2" class="headerlink" title="2016.11.2"></a>2016.11.2</h2><blockquote>
<p>Angular八个主要构造块:模块 组件 模板 元数据 数据绑定 指令 服务 依赖注入</p>
<p>模块：(根模块 特性模块) 都是带有@NgModule 装饰器的类</p>
<p>组件：负责控制屏幕上的一小块地方</p>
<p>模板：以 HTML 形式存在，用来告诉Angular如何渲染组件(视图) </p>
<p>元数据：告诉 Angular 如何处理一个类(黑人问号)</p>
<p>数据绑定：模板的各部分与组件的各部分相互合作的机制</p>
<p>指令：带有“指令元数据”的类 会根据指令提供的操作指南对DOM进行修改</p>
<p>服务：任何Angular应用的基础(废话 看不懂)</p>
<p>依赖注入：提供我们需要的组件以及这些组件所需的服务</p>
<h2 id="2016-11-1"><a href="#2016-11-1" class="headerlink" title="2016.11.1"></a>2016.11.1</h2><p>学到现在才觉得 弄清楚原理比抄一个hello world实在得多</p>
<p>刷了一点文档 看到一句 “用带 Angular 扩展语法的HTML写模板,用组件类管理这些模板,用服务添加应用逻辑,并在模块中打包发布组件与服务” 很有意思</p>
<p>先说下我理(chao)解(xi)的ng2原理</p>
<p>ng2跑起来 需要一堆配置文件 package.json用来标记出本项目所需的npm依赖包 tsconfig.json定义TS编译器如何从项目源文件生成JS代码 typings.json为TS编译器无法识别的库提供了别的定义文件 systemjs.config.js为模块加载器提供了该到哪里查找应用模块的信息 并注册了所有必备的依赖包 最后 npm install</p>
<p>之后 需要一个根模块(AppModule.ts) 一个根组件(AppComponent.ts) 根组件需要用import导入根模块 然后让Angular加载这个根组件 我们又需要一个main.ts</p>
<p>之后呢 要弄到我们的宿主界面index.html中 最后 npm-start</p>
<p>然后”TypeScript编译器运行在监听模式 一个名叫lite-server的静态文件服务器把index.html加载到浏览器中 并且在该应用中的文件发生变化时刷新浏览器”(看不懂)</p>
</blockquote>
<h2 id="2016-10-31"><a href="#2016-10-31" class="headerlink" title="2016-10-31"></a>2016-10-31</h2><blockquote>
<p>也不算是心血来潮来挖这个坑 只是觉得ng2学了大半个月了 TS之类的准备工作也已经做好 而现在 由于种种原因 连个hello都很难写出来 未免觉得 心有不甘 也是想记录一下学习过程 哪怕是给后面的小朋友填几个坑也好 </p>
<p>应该先说下之前遇到的坑 </p>
<p>一开始是跟着<a href="https://angular.cn/" target="_blank" rel="external">官方文档</a>学的 因为之前接触过ng1 所以基本思想啥的算是了解 MVC还是MVVM基本上都能看懂 但是涉及到敲命令行的问题 作为一个垃圾前端 不免觉得头疼 按照文档来 也就停留在hello world的阶段 而且还总是纳闷 一个hello world不仅麻烦 而且都几十M了 之后岂不是要炸 内心忐忑不安 开始怀疑人生</p>
<p>然后呢 就去某宝上买了本《迈向ng2》 写出了一个不需要配置的hello world了 本以为走上了康庄大道 谁知好景不长 作者开始配置文件 然后 本机nodejs开始蜜汁bug 各种Eoror要弄到崩溃 书上内容基本上是算完全卡住 于是开始怀疑是windows的锅 不过也不想去装linux 于是只能迎着头皮继续强行啃官方文档 所以就有了这篇学习笔记</p>
<p>以上算是序</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/21/myName/" itemprop="url">
                  关于名字的黑历史
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-21T17:43:10+08:00" content="2016-10-21">
              2016-10-21
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/21/myName/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/21/myName/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>其实吧 我不是很想用Mulgure这个id的 我更喜欢的是 Mulgore 或者说这是我以前用的</p>
<p>很久以前 年少轻狂打WOW的时候 最开始玩的是一个牛头萨满 说到牛头人 就肯定要提到雷霆崖的 然后就是<a href="http://baike.baidu.com/link?url=koXpTMFSLAcXMVvdiGXaz4NKbn8xUVEF6MEDb3S-KpegIyLQMdyAkX9yc-jGduz-LLTfW2zhfn1bjilWM8VDdUa78bOYNhDBOM4NgRv3RnYXGAuLrOV5E5ukqe2-8fON" target="_blank" rel="external">莫高雷</a> 所以呢 就去把游戏调成了英文 然后找到了这个名字Mulgore 然后又因为某种不可告人的原因 将o改u变成了Mulgure 就是大家看到的这个 </p>
<p>不过呢 这种不可告人的原因到了高中就结束了 所以 大学之后 就改回了这个真正意义上的Mulgore </p>
<p>也算是时运不济 当我学着用github 注册用户名的时候 发现Mulgore已经 咳咳 捷足先登你懂的 虽然我并不清楚<a href="https://github.com/mulgore" target="_blank" rel="external">那俩哥们</a>拿这个我垂涎已久的id想做啥 那是别人的事我也不想管 所以呢 我又用回了Mulgure这个我并不是那么喜欢的名字 </p>
<p>但是呢 要把现在这个名字发扬光大蛤</p>
<p>顺便提一句 除了github上的 其他地方的Mulgore应该可能也许就是我本人(我也记不太清楚了 不然你们去搜索下？)</p>
<p>就算是凑个数吧 算序呢还是啥 反正不是盖棺定论就行了</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/21/JS学习/" itemprop="url">
                  JS学习遇到的坑 (大坑慢慢填)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-21T17:42:58+08:00" content="2016-10-21">
              2016-10-21
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/21/JS学习/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/21/JS学习/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>下面的内容都是想到哪写到哪 很零碎 基本上都是自己踩过的坑 供以后学习总结用</p>
</blockquote>
<h2 id="Jq的"><a href="#Jq的" class="headerlink" title="Jq的 "></a>Jq的 </h2><blockquote>
<p>很懒不想上图</p>
<p>某日从网上搜出来的全选框代码（JQ）</p>
</blockquote>
<pre><code>$(&quot;.all&quot;).click(function(){    
   if(this.checked){    
        $(&quot;table .checkbox&quot;).attr(&quot;checked&quot;, true) }
    else{    
        $(&quot;table .checkbox&quot;).attr(&quot;checked&quot;, false)
    }   
} );  
</code></pre><blockquote>
<p>HTML不贴了 大概意思都能看懂</p>
<p>这玩意第一次全选还好, 但是如果取消了勾选状态后再次全选会失效。</p>
<p>所以去查了下，发现JQ 1.9有提到。</p>
<p>当选择器是用来区分标签属性（attributes）和对象属性（properties）时，这种行为在向后兼容的命名方面会引起混乱。</p>
<p>例如，一个复选框的布尔标签属性（attributes），如checked和disabled受到这种变化的影响。”input[checked]“的正确行为是选择有checked属性的复选框，不管是它的字符串值，还是它当前的状态。与此相反， “input:checked” 选择当前checked属性的布尔值（true或false）为true的复选框，例如当用户单击复选框时，会受到影响。1.9之前版本这些选择器有时不选择正确的节点。<br>其中提到了一个1.6版本引入的prop()；语法差不多，区别如下<br>添加属性名称该属性就会生效应该使用prop();<br>有true,false两个属性使用prop();<br>其他则使用attr();</p>
</blockquote>
<h2 id="有关数的"><a href="#有关数的" class="headerlink" title="有关数的 "></a>有关数的 </h2><blockquote>
<p>浮点数的算术运算是个大坑 不要用这浮点数这玩意作判断条件、</p>
<p>比如说0.1+0.2!=0.3而是0.30000000000000004(舍入误差) 而0.25+0.05就没有这种事情发生，是正常的</p>
<p>NaN(Not a Number) 与任何值都不相等，包括其本身</p>
</blockquote>
<h2 id="变量值的复制"><a href="#变量值的复制" class="headerlink" title="变量值的复制"></a>变量值的复制</h2><blockquote>
<p>复制基本类型的值时，是按值传递</p>
<p>负责引用类型的值时，是引用传递(指针)</p>
<p>eg:</p>
</blockquote>
<pre><code>    var n1 = 5;
    var n2 = n1;
    var n1 = 6;
    console.log(n2);   //5

//另一种情况
    var obj1 = {
        name: &quot;myName&quot;
    }
    var obj2 = obj1;
    obj1.name = &quot;myName2&quot;;
    console.log(obj2.name);  //myName2
</code></pre><h2 id="内容很散"><a href="#内容很散" class="headerlink" title="内容很散"></a>内容很散</h2><blockquote>
<p>NaN==NaN //false;</p>
<p>0==-0//true</p>
<p>Symbol()==Symbol()//false<br>var a=”foo”;window.isNaN(a)  //true 算是JS的bug 所以 用ES6的Number.isNaN()来判断;</p>
<p>引用复制 指向的是值本身而非变量 </p>
<p>eg:</p>
</blockquote>
<pre><code>var a=[1,2,3];
var b=a;
a.push(4);
console.log(b);//[1,2,3,4]

var c=[1,2,3];
var d=c;
c=[1,2,3,4];
console.log(d);//[1,2,3]
</code></pre><blockquote>
<p>原生函数当作构造函数来用 与设想有一定出入<br>eg:</p>
</blockquote>
<pre><code>var a=new Array(1,3,5);console.log(a);//[1,3,5]
var b=[1,3,5];
console.log(a==b);//false
console.log(typeof(a));//object

var x=new Boolean(false);
var y=new Number(0);
var z=new String(&quot;&quot;);
console.log(Boolean(x&amp;&amp;y&amp;&amp;z));//true
</code></pre><blockquote>
<p>parseInt()如果没有第二个参数来指定转换的基数，便会根据字符串的第一个字符来自行决定基数 X或x：16进制;0:8进制</p>
<p>然后有一个坑 </p>
<p>parseInt(1/0,19);//18 原因：1/0转化为Infinity I值为18(A为10 然后就知道了吧) n无效 等同于parseInt(18,19)</p>
<p>b=a-0会将a强制转化为数字 a*1或者a/1同理  b=a+””会将a强制转化为字符(串)</p>
</blockquote>
<h2 id="一个关于连等赋值的题"><a href="#一个关于连等赋值的题" class="headerlink" title="一个关于连等赋值的题 "></a>一个关于连等赋值的题 </h2><pre><code>var a = {n:1};
a.x = a = {n:2};
console.log(a.x);//undefined
</code></pre><blockquote>
<p>很是让人匪夷所思 这个涉及到赋值顺序和垃圾回收 有兴趣去搜索一下这个题目 算是抛砖引玉</p>
</blockquote>
<h2 id="词法作用域"><a href="#词法作用域" class="headerlink" title="词法作用域"></a>词法作用域</h2><p>JS大部分情况下 基于词法作用域<br>eg:</p>
<pre><code>function foo(){
    console.log(a);
}
function bar(){
    var a=3;
    foo();
}
var a=2;
bar()   //2
</code></pre><p>这一个例子就够了</p>
<blockquote>
<p>this跟上面说的不同 基于动态作用域 不过总会有一些“bug” 其实也不算bug 隐式丢失算一个</p>
</blockquote>
<pre><code>function foo(){
    console.log(this.a);
}

var obj={
    a:2,
    foo:foo
};

var bar=obj.foo;    //隐式绑定
var a=&quot;global&quot;;

obj.foo()   //2(严格模式是undefined)
bar();  //&quot;global&quot;
</code></pre><h2 id="typeof与instanceof"><a href="#typeof与instanceof" class="headerlink" title="typeof与instanceof"></a>typeof与instanceof</h2><p>typeof的返回值:number,boolean,string,object,undefined,symbol,function<br>instanceof只能用来判断对象和函数，不能用来判断字符串和数字等;<br>注意：</p>
<pre><code>var b = &apos;123&apos;;
var c = new String(&quot;123&quot;);
alert(b instanceof String);  //false
alert(c instanceof String);  //true
</code></pre><h2 id="object-Object"><a href="#object-Object" class="headerlink" title="[object Object]"></a>[object Object]</h2><pre><code>var a={a:1};
alert(a);//[object Object]
</code></pre><p>{} 相当于 new Object()， 定义一个对象的实例;<br>输出对象，默认返回[object objectname];</p>
<ol>
<li>因此，第一个是默认值object，第二个是对象的名字Object.</li>
</ol>
<h2 id="for-in"><a href="#for-in" class="headerlink" title="for-in "></a>for-in </h2><p>for-in 遍历属性的顺序并不确定，即输出的结果顺序与属性在对象中的顺序无关，也与属性的字母顺序无关，与其他任何顺序也无关。(似乎是跟浏览器有关 其实绝大部分情况还是按输入顺序输出的 旧式浏览器就难说了)</p>
<p> for-in 不仅仅遍历 array 自身的属性，其还遍历 array 原型链上的所有可枚举的属性。</p>
<p> eg:</p>
<pre><code>Array.prototype.fatherName = &quot;Father&quot;;
const arr = [1, 2, 3];
arr.name = &quot;Hello world&quot;;
let index;
for(index in arr) {
    console.log(&quot;arr[&quot; + index + &quot;] = &quot; + arr[index]);
}
</code></pre><p>结果:</p>
<pre><code>arr[0] = 1
arr[1] = 2
arr[2] = 3
arr[name] = Hello world
arr[fatherName] = Father
</code></pre><p>ps:for-in性能不佳 除非明确需要迭代一个属性数量未知的对象 否则应避免使用for-in</p>
<h2 id="setTimeout-的参数"><a href="#setTimeout-的参数" class="headerlink" title="setTimeout()的参数"></a>setTimeout()的参数</h2><p>其实setTimeout()并不止两个参数 写完整是这样的 setTimeout(func, delay, param1, param2, …)</p>
<p>第三个参数及以后的参数都可以作为func函数的参数</p>
<p>举个例子：</p>
<pre><code>function a(x, y) {
    console.log(x, y) // 2 3
}
setTimeout(a, 1000, 2, 3)
</code></pre><h2 id="Set用于数组去重"><a href="#Set用于数组去重" class="headerlink" title="Set用于数组去重"></a>Set用于数组去重</h2><p>Set 结构不会添加重复的值 故可用此方法进行数组去重</p>
<pre><code>[...new Set(array)]
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.JPG"
               alt="Mulgure" />
          <p class="site-author-name" itemprop="name">Mulgure</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">12</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Mulgure" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/qin-si-liang-65" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mulgure</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="//lib.baomitu.com/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//lib.baomitu.com/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="//lib.baomitu.com/velocity/1.2.3/velocity.min.js"></script>

  
  <script type="text/javascript" src="//lib.baomitu.com/velocity/1.2.3/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//lib.baomitu.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.2"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"mulgure"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="//cdn.jsdelivr.net/ua-parser.js/0.7.10/ua-parser.min.js"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

  


</body>
</html>
